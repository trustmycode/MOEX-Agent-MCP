---
id: TASK-2025-080
title: "Фаза 0.4.1. Анализ требований и существующего IssClient"
status: backlog
priority: high
type: chore
estimate: 4h
assignee: @unassigned
created: 2025-12-10
updated: 2025-12-10
parents: [TASK-2025-073]
arch_refs: [ARCH-sdk-moex-iss, ARCH-mcp-moex-iss]
risk: low
benefit: "Гарантирует, что API moex_iss_sdk учитывает требования SPEC и текущую реализацию IssClient в moex-iss-mcp."
audit_log:
  - {date: 2025-12-10, user: "@AI-DocArchitect", action: "created with status backlog"}
---

## Описание

Изучить существующую спецификацию MCP (`docs/SPEC_moex-iss-mcp.md`),
архитектуру MCP (`ARCH-mcp-moex-iss-v1.md`) и текущую реализацию
HTTP-клиента ISS в `moex-iss-mcp` (модуль `iss.client`), чтобы собрать
полный список операций и требований, которые должен поддерживать
`moex_iss_sdk.IssClient`.

Результатом задачи должен стать краткий текстовый обзор (черновой SPEC
для SDK) с перечнем необходимых методов, полей моделей и ожидаемых
ошибок.

## Критерии приемки

- Перечень всех обращений к MOEX ISS в коде `moex-iss-mcp` (конкретные
  эндпоинты/ресурсы) зафиксирован в отдельном разделе чернового SPEC
  SDK.
- Для каждого использования ISS определены:
  - какие поля ответа реально используются доменной логикой;
  - какие ограничения по датам/глубине истории и бордам применяются.
- В черновике задокументирован список методов, которые должен
  предоставить `IssClient`, и связи этих методов с текущими MCP-tools.

## Определение готовности

- Задачи `TASK-2025-081` и `TASK-2025-082` могут опираться на список
  сущностей и операций без дополнительного анализа кода/документации.
- В команде согласовано, что ни один важный кейс обращения к ISS
  не выпал из будущего API SDK.

## Заметки

- При анализе особое внимание уделить поведению по датам, индексным
  инструментам и ограничениям по количеству тикеров (см. задачи фазы 0).

