# TASK-2025-106: RAG-расширения как интерфейс (без реализации в MVP)

## Статус

- Статус: planned
- Приоритет: P2 (post-hackathon)
- Компонент: risk-analytics-mcp / бизнес-агент / Evolution
- Связанные сценарии: issuer_peers_compare (5), cfo_liquidity_report (9) — потенциально

## Контекст

Полноценный RAG (отчёты эмитентов, research, ковенанты) не входит в MVP из-за сложности пайплайна и индексации. Но важно архитектурно оставить расширяемый интерфейс, чтобы после хакатона можно было подключить, например, `evolution-managed-rag-mcp`.

## Цель

Спроектировать и зафиксировать интерфейсы и точки расширения под текстовый контекст (`TextualContextProvider` и т.п.), не реализуя фактический ingestion/индексацию в MVP.

## Объём работ

### In scope

- Определение интерфейса `TextualContextProvider`:
  - методы запроса текстового контекста по тикеру/эмитенту/кредиту,
  - формат возвращаемых фрагментов (title, snippet, source_link).
- Протокол взаимодействия агента с `TextualContextProvider`:
  - как агент комбинирует числовой вывод MCP и текстовый контекст,
  - как (в будущем) это будет отображаться пользователю.
- Документация:
  - раздел в архитектуре с описанием точек расширения для RAG,
  - примеры того, какие источники могут быть подключены (отчёты эмитента, research-ноты, ковенанты).
- Минимальные заглушки в коде (если нужно), не влияющие на текущие сценарии 5/7/9.

### Out of scope

- Любая реальная интеграция с RAG-сервисами.
- Индексация и хранение текстов.

## Acceptance Criteria

- [ ] Интерфейс `TextualContextProvider` определён и задокументирован.
- [ ] В архитектурной документации есть раздел, описывающий возможное подключение RAG и его роль в сценариях.
- [ ] В кодовой базе нет жёсткой завязки на отсутствие/наличие RAG (расширение не ломает текущие сценарии).

