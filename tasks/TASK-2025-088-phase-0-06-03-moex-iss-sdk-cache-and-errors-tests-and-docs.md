---
id: TASK-2025-088
title: "Фаза 0.6.3. Тесты и документация по кэшу и ошибкам moex_iss_sdk"
status: done
priority: medium
type: chore
estimate: 4h
assignee: @unassigned
created: 2025-12-10
updated: 2025-12-10
parents: [TASK-2025-075]
arch_refs: [ARCH-sdk-moex-iss, ARCH-mcp-moex-iss]
risk: low
benefit: "Фиксирует поведение кэша и ошибок в SDK в тестах и документации, упрощая их использование MCP-сервисами."
audit_log:
  - {date: 2025-12-10, user: "@AI-DocArchitect", action: "created with status backlog"}
---

## Описание

Дополнить unit-/интеграционными тестами и документацией поведение
`moex_iss_sdk` в части кэширования и обработки ошибок, чтобы MCP и
другие потребители могли опираться на стабильный контракт SDK.

## Критерии приемки

- Тесты SDK покрывают:
  - включённый/выключенный кэш;
  - истечение TTL и вытеснение записей;
  - генерацию и проброс исключений SDK (`InvalidTickerError`,
    `DateRangeTooLargeError`, и т.п.) при типовых сценариях.
- В `ARCH-sdk-moex-iss-v1.md` и/или отдельном SPEC для SDK описано:
  - когда кэш используется и какие запросы кэшируются;
  - какие исключения может выбрасывать `IssClient` и что они означают.
- README или внутренний HOWTO для команды содержит пример использования
  SDK в MCP (инициализация, обработка ошибок, конфигурация кэша).

## Определение готовности

- Любое изменение поведения кэша или ошибок в SDK, ломающих контракт с
  MCP, будет обнаружено тестами и отражено в документации.

## Заметки

- Документация может быть оформлена как отдельный раздел в существующих
  архитектурных документах без создания нового файла.
