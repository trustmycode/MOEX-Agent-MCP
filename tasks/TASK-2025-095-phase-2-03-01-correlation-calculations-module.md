---
id: TASK-2025-095
title: "Фаза 2.3.1. Модуль расчёта матрицы корреляций"
status: done
priority: high
type: feature
estimate: 6h
assignee: @unassigned
created: 2025-12-10
updated: 2025-12-10
parents: [TASK-2025-078]
arch_refs: [ARCH-mcp-risk-analytics, ARCH-sdk-moex-iss]
risk: medium
benefit: "Реализует численные функции расчёта корреляций на основе рядов доходностей."
audit_log:
  - {date: 2025-12-10, user: "@AI-DocArchitect", action: "created with status backlog"}
  - {date: 2025-12-10, user: "@codex", action: "marked as done after implementing correlation calculations and tests"}
---

## Описание

Реализовать в `risk_analytics_mcp.calculations.correlation` функции,
которые по временным рядам доходностей нескольких тикеров строят
матрицу корреляций (симметричную, с единицами на диагонали).

## Критерии приемки

- Функция(и) принимают на вход:
  - список тикеров;
  - выровненные ряды доходностей по каждому тикеру.
- На выходе формируется:
  - квадратная матрица корреляций;
  - сопутствующие метаданные (число наблюдений, использованный метод).
- Написаны unit-тесты на синтетических данных, проверяющие:
  - единицы на диагонали;
  - симметричность матрицы;
  - разумные значения для простых кейсов (идеально коррелирующие/
    некоррелирующие ряды).

## Определение готовности

- Инструмент `compute_correlation_matrix` (`TASK-2025-096`) может
  использовать модуль `correlation` без изменений.

## Заметки

- При необходимости модуль может быть расширен альтернативными
  методами оценки корреляций в roadmap-задачах.
