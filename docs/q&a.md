# 1. Что **обязательно** должно быть в решении

## 1.1. Платформа и модели

- Агент **обязан**:

  - вызывать **Evolution Foundation Models** по API `https://foundation-models.api.cloud.ru/v1/`;
  - **не** использовать внешние LLM API в финальной версии (OpenAI, DeepSeek и т.п. — только для экспериментов локально, не для сдачи).

- Решение **обязательно развёрнуто** в **Evolution AI Agents** (Cloud.ru):

  - MCP-сервер — как контейнер/сервис в проекте Cloud.ru;
  - агент / агентная система — как сущность AI Agents, которая использует этот MCP.

Это полностью совпадает с базовым ТЗ кейса: «готовность к интеграции в Evolution AI Agents» — один из ключевых критериев.

---

## 1.2. MCP-сервер

**Минимум:**

- Написан с использованием **FastMCP / modelcontextprotocol** (Python / Go / TS / др.).
- Реализует **1–3+ осмысленных tools**, связанных с бизнес-сценарием:

  - пример: `create_invoice`, `sync_leads`, `get_supplier_risk`, а не «просто HTTP GET».

- Для **каждого tool**:

  - чёткая схема аргументов (Pydantic / типы) → LLM лучше понимает, как вызывать;
  - обработка ошибок: сетевые сбои, таймауты, невалидные ключи, 4xx/5xx, недоступный API;
  - структурированный **JSON ответ**, пригодный для A2A / клиента.

- Аутентификация к внешним API:

  - через env / Secret Manager (ключи не хардкодим).

**Важно по Q&A:**

- Ограничение «1–3 инструмента» **не жёсткое**:

  - можно делать больше tools, если так логичнее по декомпозиции;
  - но думать про **контекстное окно и стоимость токенов** — это плюс к бизнес-реализму.

- Разрешено использовать **готовые MCP**:

  - MCP из каталога Cloud.ru;
  - MCP с GitHub и др.

- Но **минимум один MCP-сервер** должен быть написан **самим участником**, и чем больше «черного ящика с GitHub» — тем **ниже оценка**.

---

## 1.3. Агент / мультиагентка

- Агент может быть:

  - «простым» (один LLM + внешние вызовы MCP),
  - или мультиагентной системой, но это **не требование**, а опция.

- Рекомендуемые стеки:

  - Python: LangChain / CrewAI / ADK / кастомная логика;
  - любой язык возможен, но Python — самый естественный путь.

- К агенту требования:

  - корректно вызывать MCP tools по контексту;
  - обрабатывать ошибки MCP и возвращать **человекочитаемый ответ**;
  - соответствовать **протоколу A2A** (tools.json / схема).

Эксперты несколько раз подчеркнули: **основной фокус — MCP-сервера**, а не излишняя сложность агентной логики. Большую часть проблем tool-calling / reasoning можно закрыть грамотным промтом.

---

## 1.4. Деплой и окружение

- Платформа: **amd64 Linux**.
- Можно использовать стандартные образы:

  - Python (обычный или `slim`);
  - другие языки — по желанию (Go, TS/Node, Rust и т.п.).

- В лабораторках Cloud.ru есть:

  - примеры Dockerfile;
  - примеры регистрации MCP и агентов;
  - пример Telegram-бота (лаба №8), который подключается к агенту.

---

## 1.5. Документация и артефакты

Минимальный пакет:

- **README** с:

  - бизнес-описанием;
  - архитектурой (кратко);
  - инструкцией по установке/конфигу/запуску (локально и/или в Cloud.ru);
  - примерами запросов / сценариев.

- **.env / config** с описанием необходимых переменных.
- **tools.json** (или аналог) для MCP.
- Примеры:

  - как запустить агент и MCP на платформе;
  - как воспроизвести демо-сценарий.

Это прямая отсылка к критерию «Готовность к включению в каталог Evolution AI Agents» (45% внутри тех. части).

---

# 2. Что **разрешено / запрещено** (по спорным вопросам)

## 2.1. Веб-скрапинг

- **Запрещено**:

  - прямой скрапинг сайтов **без API** (Selenium, BeautifulSoup из агента — как часть итогового решения).

- **Допустимо**:

  - если у вас есть **свой API**, который внутри себя делает скрапинг (то есть агент работает с API, а не напрямую с HTML);
  - либо использование **официальных API** (банки, CRM, маркетплейсы и т.д.) с соблюдением ToS.

---

## 2.2. Внешние API / on-prem

- Можно:

  - использовать **on-prem / кастомный API**, если он задокументирован и доступен из MCP (через Docker / Container Apps и т.п.);
  - использовать API, развернутый в **частном контуре**, если:

    - вы даёте MCP доступ (внутренний адрес, авторизация),
    - описываете это в конфиге и доке.

- По сервисам Cloud.ru (Repo и др.):

  - MCP к внутренним сервисам Cloud.ru **делают сами команды Cloud.ru**;
  - поэтому MCP для «Repo» — **не приоритетная идея**;
  - к другим облачным сервисам можно ходить через публичный API (если он есть), но без дополнительных грантов.

---

## 2.3. Перепользование MCP и агентов

- Можно:

  - комбинировать **несколько сторонних MCP** (Cloud.ru каталог + GitHub);
  - делать **несколько агентов** на один MCP (разные сценарии).

- Но:

  - если всё решение = «соединили чужие MCP и чужого агента» — оценка падает;
  - ценится собственный вклад: хотя бы один ваш MCP и ваша бизнес-логика.

---

## 2.4. Языки, локаль, документация

- Языки реализации: **любой** (Python, Go, TypeScript, Rust, C++, …).
- Рекомендация по языкам текста:

  - всё, что уходит в LLM (описания tools, промпты) — **лучше на английском** (меньше токенов, лучше понимание);
  - README, описания для жюри, презентация — **на русском** (под аудиторию и конкурс).

---

## 2.5. Лимиты, тайм-ауты, кэширование

- Встроенных тайм-аутов/лимитов со стороны AI Agents **нет**, кроме внутренних лимитов LLM.
- Кэширование токенов:

  - система кэширования прорабатывается,
  - **рассчитывать на неё нельзя** — нужно считать, что каждый вызов «честный».

- Вы можете сами:

  - вводить свои **тайм-ауты** на MCP / внешние API;
  - делать **retry-логики**, деградации, graceful-ошибки.

---

## 2.6. Модели речи и тяжёлые модели

- Есть **ASR-модель** (Whisper Large v3) как часть Foundation Models:

  - можно использовать для voice→text через API;
  - в AI Agents она **не интегрирована «одной кнопкой»**, но доступна как модель через API для кастомных агентов.

- **TTS (text→speech)** в Cloud.ru сейчас нет — можно использовать сторонние TTS, если это разумно.
- Тяжёлые LLM-модели:

  - вы **не храните и не разворачиваете** их сами — они уже крутятся в Foundation Models;
  - вы просто вызываете API.

---

# 3. Как будут оценивать и что это значит для дизайна

## 3.1. Техническая часть (50%)

По ТЗ: три критерия — функциональность, архитектура/код, готовность к каталогу.

1. **Функциональность агентной системы (35% техбалла)**

   - Агент понимает запросы на естественном языке,
   - корректно вызывает MCP (правильные аргументы, цепочки tools),
   - обрабатывает ошибки (нет сети, 4xx/5xx, неверный ключ),
   - возвращает **полезный, человекочитаемый** результат.

2. **Архитектура и качество кода (20%)**

   - Модульность, читаемость.
   - README, конфиги, логирование.
   - Типизация (особенно в MCP).
   - Тесты / скрипты быстрой проверки.

3. **Готовность к включению в каталог Evolution AI Agents (45%)**

   - Есть tools.json / описание MCP.
   - Поддерживается протокол A2A.
   - Дано **полное руководство**:

     - как разворачивать в Cloud.ru;
     - какие переменные и секреты нужны;
     - как запускать демо-сценарий.

   - Решение реально работает в AI Agents, а не только локально.

**Вывод:**
С точки зрения техчасти **самый жирный кусок — “готовность к каталогу”**. Архитектурная «красота ради красоты» ценится, но вторична. Лучше потратить время на:

- tools.json,
- аккуратный Docker,
- .env, Secret Manager,
- скрипты `run_demo.sh` / `make demo`,
- логирование и пример логов.

---

## 3.2. Бизнес-часть (50%)

Три критерия, каждый 1–5 баллов с весами: «ценность», «демо», «потенциал».

1. **Ценность и бизнес-релевантность (40% бизнес-части)**

   - Чётко сформулированная **боль**: кто пользователь, какую рутину/риск убираем.
   - Простой пересчёт в **время / деньги**:

     - пример: минус 20 минут в день аккаунт-менеджеру × N менеджеров;
     - снижение риска штрафа / просрочки.

2. **Демонстрация работоспособности (30%)**

   - Нужен **полный цикл**: от запроса → до действия (и/или результата).
   - Можно:

     - live-демо;
     - запись экрана;
     - веб-хуки, Telegram-бот, веб-UI.

   - Главное — видно, что это **не слайд**, а живой сценарий.

3. **Актуальность и потенциал (30%)**

   - Масштабируемость: можно внедрить не в одну компанию, а в **десятки** в отрасли.
   - Сегменты: retail, финансы, логистика, продажи, HR и т.д.
   - Возможность **адаптации** под другие кейсы.

**Ключевой месседж экспертов:**

- «Не упарывайтесь в миллисекунды и излишнюю технику».
- Лучше:

  - понятный бизнес-кейс,
  - вау-эффект в демо,
  - чёткий пользовательский сценарий.

---

# 4. Практические выводы для твоей архитектуры и плана

## 4.1. Приоритеты по работе

1. **Определить бизнес-кейс**, который:

   - явно экономит время/деньги (желательно легко посчитать),
   - реализуем за срок хакатона,
   - масштабируем по отраслям.

2. **Спроектировать MCP-сервер(а)**:

   - 1–3 основных инструмента, покрывающих 80% ценности;
   - чёткие Pydantic-схемы;
   - стабильная обработка ошибок и логирование.

3. **Собрать агента**:

   - простая, но надёжная логика:

     - парсинг запроса,
     - планирование действий,
     - вызов MCP,
     - сведение ответа.

4. **Подготовить окружение и деплой в AI Agents**:

   - Dockerfile;
   - регистрация MCP на платформе;
   - создание агента;
   - проверка через Inspector / чат / Telegram.

5. **Сделать демо-сценарий и презентацию**:

   - 1–2 ярких сквозных flow;
   - цифры по экономии времени/денег;
   - слайд «чем мы отличаемся от других решений».

---

## 4.2. Что можно смело отбросить / не делать

- Не нужно:

  - «крутить» локальные LLM, хранить тяжёлые модели;
  - городить суперсложный фронт, если времени мало;
  - делать глубокий web-scraping без API.

- Multi-agent — только если успеваешь и это реально добавляет ценность (например, разделение ролей: планировщик, исполнитель, валидатор).

---

# 5. Что Q&A добавило сверх базового ТЗ (если кратко)

По сравнению с PDF-кейсом:

**Новые/уточнённые моменты:**

1. **Финальный агент и MCP обязательно должны жить в Cloud.ru AI Agents**, внешние LLM — нельзя.
2. Можно **превышать лимит 3 tools**, но нужно думать о контексте и стоимости.
3. **Только один MCP — минимум**, но приветствуется использование каталога Cloud.ru + свой MCP.
4. **Фронт не обязателен**, но даёт плюсы в бизнес-части (демо/вау).
5. Разрешены **любой язык и стек**, если шьёшь под MCP и AI Agents.
6. **Нельзя рассчитывать на кэш токенов**, считай каждый вызов.
7. Есть **ASR-модель (Whisper)**, TTS — через сторонние сервисы.
8. **Существующие проекты** можно адаптировать, но они должны:

   - использовать Foundation Models,
   - быть развёрнуты и работоспособны на AI Agents.

9. **API-ключи** и другие секьюрные данные — через Secret Manager.
10. **Регламент питча**: 7 минут рассказ + 5 минут Q&A + ~3 минуты на переключение.
